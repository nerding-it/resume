
% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike License. To view a copy of this license,
% visit http://creativecommons.org/licenses/by-nc-sa/1.0/ or send a letter to
% Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.
% This file is adapted from  Puneeth Chaganti's resume at
% https://github.com/punchagan/resume/blob/master/mycv.sty
% which is adapted from Jesse Luehrs' resume at
% https://github.com/doy/resume/blob/master/resume.tex

%% Packages
\RequirePackage{
  latexsym,
  amsmath,
  amssymb,
  charter,
  color,
  calc,
  hyperref,
  titlesec,
  fontspec,
  fontawesome,
  enumitem,
  xstring,
  makecell,
  array,
  graphicx
}
\RequirePackage[empty]{fullpage}

%% Dimensions & Margins
\raggedbottom
\raggedright
\setlength{\tabcolsep}{-0.1125in}
\addtolength{\oddsidemargin}{-0.25in}
\addtolength{\evensidemargin}{-0.25in}
\addtolength{\textwidth}{0.5in}
\addtolength{\topmargin}{-0.4in}
\addtolength{\textheight}{1in}

% Color definitions
\definecolor{pumpkin}{rgb}{1.0, 0.46, 0.09}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\def\photo#1{\def\@photo{#1}}

%% Document Header
\renewcommand{\arraystretch}{0.4}
\newcommand{\resheader}[8]{
  \IfStrEq{\@photo}{}{}{\indent}
  \begin{tabular}{L{13.9cm} R{4.65cm}}
    \begin{tabular}{L{8.10cm} L{5.40cm}}
      \\[2pt]
      \textbf{\huge #1} & \large \faEnvelope #3 & \\
      \hspace{0.15cm} \large \faGlobe \hspace{0.03cm} \large \boldurl{#2}{#2} & \large \faGithub \hspace{0.03cm} \blackurl{https://github.com/#8}{#8}
    \end{tabular} &
    \IfStrEq{\@photo}{}
      {\large \makecell[tr]{\faHome \hspace{0.03cm} #5 \\ #6 \\ #7 \\}}
      {\includegraphics[width=3cm]{\@photo} \vspace {-1.5cm}}
  \end{tabular}
  \IfStrEq{\@photo}{}{}{\\[25pt]}
}

%% Enumerations
\def\labelitemi{â€¢}

%% Section Headings
\renewcommand{\section}[1]{
  \@startsection{section}{1pt}{0pt}{0pt}{0pt}{\normalfont}*{}
  {

    \large \color{black} {
      \begin{minipage}
        {\textwidth-0.175in}

        {\textbf{#1 \color{pumpkin} \faCaretDown \vphantom{p\^{E}}}}
      \end{minipage}

    }
  }
}

%% Title
\titleformat{\subsection} %command
            [block] %shape
            {\bfseries} %format
            {\vspace{-0.5ex}} %label
            {0pt} %sep
            {} %before-code
            [] %after-code

%% Date
\titlespacing{\subsection}{0pt}{5pt}{0pt}[{0pt}]
\titleformat{\subsubsection} %command
            [block] %shape
            {\vspace{-2.4ex}\bfseries\itshape\small\raggedleft} %format
            {} %label
            {0pt} %sep
            {} %before-code
            [] %after-code
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}[{0pt}]

%% Font
\renewcommand*\sfdefault{pag}
\renewcommand{\familydefault}{\sfdefault}

%% URL Colors
\hypersetup{colorlinks=true, urlcolor={pumpkin}}
\newcommand{\changeurlcolor}[1]{\hypersetup{urlcolor=#1}}
\newcommand{\boldurl}[2]{\oldhref{#1}{\bfseries{\textit{#2}}}}
\newcommand{\toggleurlstyle}{\renewcommand{\href}[2]{\changeurlcolor{pumpkin}\oldhref{#1}{#2}}}


%% Bold URLs
\newcommand{\blackurl}[2]{\changeurlcolor{black}\oldhref{#1}{#2}\changeurlcolor{pumpkin}}
\let\oldhref\href
\renewcommand{\href}[2]{\blackurl{#1}{#2} \newline
                        \oldhref{#1}{\StrSubstitute{#1}{https://}{}}}

\newcommand{\orange}[1]{{\color{pumpkin}#1}}
